https://neo4j.com/docs/cypher-manual/current/clauses/merge/

The MERGE clause ensures that a pattern exists in the graph. Either the pattern already exists, or it needs to be created.


When using MERGE on full patterns, the behavior is that either the whole pattern matches, or the whole pattern is created. MERGE will not partially use existing patterns — it is all or nothing. If partial matches are needed, this can be accomplished by splitting a pattern up into multiple MERGE clauses.

As with MATCH, MERGE can match multiple occurrences of a pattern. If there are multiple matches, they will all be passed on to later stages of the query.

The last part of MERGE is the ON CREATE and ON MATCH. These allow a query to express additional changes to the properties of a node or relationship, depending on if the element was matched (MATCH) in the database or if it was created (CREATE).



